<form [formGroup]="contractForm" (ngSubmit)="submit()" *ngIf="firstStep">
    <h4>Contratto di Locazione</h4>
    <div class="form-group">
        <label for="date">Data</label>
        <input formControlName="date" type="date" class="form-control" id="date" aria-describedby="Data" placeholder="Data">
    </div>
    <div class="form-group">
        <label for="registryNumber">Nr. Registro</label>
        <input formControlName="registryNumber" type="text" class="form-control" id="registryNumber" aria-describedby="registryNumber"
            placeholder="Nr. registro">
    </div>

    <h4>Dati natante locato</h4>
    <div class="form-group">
        <label for="boat_name">Nome</label>
        <select class="form-control" formControlName="boat" id="boat_name">
            <option *ngFor="let boat of boats" [ngValue]="boat">{{boat.name}}</option>
        </select>
    </div>
    <fieldset formGroupName="boatGroup">
        <div class="form-group">
            <label for="boat_type">Natante</label>
            <input type="text" class="form-control" formControlName="boatType" id="boat_type" aria-describedby="Natante" placeholder="Natante">
        </div>
        <div class="form-group">
            <label for="boat_vin">Matricola</label>
            <input type="text" class="form-control" formControlName="boatVin" id="boat_vin" aria-describedby="Matricola natante" placeholder="Matricola natante">
        </div>
        <div class="form-group">
            <label for="engine">Engine</label>
            <input type="text" class="form-control" formControlName="engine" id="engine" aria-describedby="Motore" placeholder="Motore">
        </div>
        <div class="form-group">
            <label for="engine_vin">Matricola</label>
            <input type="text" class="form-control" formControlName="engineVin" id="engine_vin" aria-describedby="Matricola motore" placeholder="Matricola motore">
        </div>
        <div class="form-group">
            <label for="registration_number">Targa</label>
            <input type="text" class="form-control" formControlName="registrationNumber" id="registration_number" aria-describedby="Targa"
                placeholder="Targa">
        </div>
        <div class="form-group">
            <label for="tank_size">Serbatoio</label>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">LT</span>
                </div>
                <input type="number" class="form-control" formControlName="tankSize" id="tank_size" aria-describedby="Serbatoio" placeholder="Serbatoio">
            </div>
        </div>
    </fieldset>

    <h4>Anagrafica Locatario/Conduttore</h4>
    <div class="form-group">
        <label for="renter_name">Nome locatario</label>
        <input type="text" class="form-control" formControlName="renterName" id="renter_name">
    </div>
    <div class="form-group">
        <label for="birth_place">Luogo di nascita</label>
        <input type="text" class="form-control" formControlName="birthPlace" id="birth_place">
    </div>
    <div class="form-group">
        <label for="birth_date">Data di nascita</label>
        <input type="date" class="form-control" formControlName="birthDate" id="birth_date">
    </div>
    <div class="form-group">
        <label for="sex">Sesso</label>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="sex_m" formControlName="sex" value="M">
            <label class="form-check-label" for="sex_m">M</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="sex_f" formControlName="sex" value="F">
            <label class="form-check-label" for="sex_f">F</label>
        </div>
    </div>
    <div class="form-group">
        <label for="home_town">Citt&agrave; di residenza</label>
        <input type="text" class="form-control" formControlName="homeTown" id="home_town">
    </div>
    <div class="form-group">
        <label for="home_address">Indirizzo di residenza</label>
        <input type="text" class="form-control" formControlName="homeAddress" id="home_address">
    </div>
    <div class="form-group">
        <label for="ssn">Codice Fiscale</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" formControlName="ssn" id="ssn">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" (click)="getSsn()" type="button">Calcola</button>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="boat_license">Patente nautica</label>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="boat_license_yes" formControlName="boatLicense" [value]="true">
            <label class="form-check-label" for="boat_license_yes">SI</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="boat_license_no" formControlName="boatLicense" [value]="false">
            <label class="form-check-label" for="boat_license_no">NO</label>
        </div>
    </div>
    <div class="form-group">
        <label for="phone">Telefono</label>
        <input type="phone" class="form-control" formControlName="phone" id="phone">
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" formControlName="email" id="email">
    </div>
    <div class="form-group">
        <label for="id_type">Tipo documento</label>
        <input type="text" class="form-control" formControlName="idType" id="id_type">
    </div>
    <div class="form-group">
        <label for="id_number">Numero documento</label>
        <input type="text" class="form-control" formControlName="idNumber" id="id_number">
    </div>
    <div class="form-group">
        <label for="id_issuer">Rilasciato da</label>
        <input type="text" class="form-control" formControlName="idIssuer" id="id_issuer">
    </div>
    <div class="form-group">
        <label for="id_issue_date">Data rilascio</label>
        <input type="date" class="form-control" formControlName="idIssueDate" id="id_issue_date">
    </div>

    <h4>Dettagli locazione</h4>
    <div class="form-group">
        <label for="start_date">Data inizio</label>
        <input type="date" class="form-control" formControlName="startDate" id="start_date">
    </div>
    <div class="form-group">
        <label for="start_time">Ora inizio</label>
        <input type="time" class="form-control" formControlName="startTime" id="start_time">
    </div>
    <div class="form-group">
        <label for="end_date">Data fine</label>
        <input type="date" class="form-control" formControlName="endDate" id="end_date">
    </div>
    <div class="form-group">
        <label for="end_time">Ora fine</label>
        <input type="time" class="form-control" formControlName="endTime" id="end_time">
    </div>
    <div class="form-group">
        <label for="start_fuel">Carburante inizio</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">LT</span>
            </div>
            <input type="text" class="form-control" formControlName="startFuel" id="start_fuel">
        </div>
    </div>
    <div class="form-group">
        <label for="end_fuel">Carburante fine</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">LT</span>
            </div>
            <input type="text" class="form-control" formControlName="endFuel" id="end_fuel">
        </div>
    </div>
    <div class="form-group">
        <label for="fuel_cost">Costo carburante</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€ / LT</span>
            </div>
            <input type="number" class="form-control" formControlName="fuelCost" id="fuel_cost">
        </div>
    </div>
    <div class="form-group">
        <label for="total_fuel_cost">Totale carburante</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€</span>
            </div>
            <input type="number" class="form-control" formControlName="totalFuelCost" id="total_fuel_cost">
        </div>
    </div>
    <div class="form-group">
        <label for="rent_price">Importo locazione</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€</span>
            </div>
            <input type="number" class="form-control" formControlName="rentPrice" id="rent_price">
        </div>
    </div>
    <div class="form-group">
        <label for="security_deposit">Cauzione</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€</span>
            </div>
            <input type="number" class="form-control" formControlName="securityDeposit" id="security_deposit">
        </div>
    </div>
    <div class="form-group">
        <label for="desposit">Importo in acconto</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€</span>
            </div>
            <input type="number" class="form-control" formControlName="deposit" id="desposit">
        </div>
    </div>
    <div class="form-group">
        <label for="balance">Importo a saldo</label>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">€</span>
            </div>
            <input type="number" class="form-control" formControlName="balance" id="balance">
        </div>
    </div>

    <button type="submit" class="btn btn-primary">
        Continua
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
    </button>

</form>

<div *ngIf="!firstStep">

    <img src="assets/logo_wide.png" class="logo">

    <h3 class="text-center text-uppercase">Contratto di Locazione</h3>

    <table>
        <tr>
            <td class="text-right">
                <strong>Data:</strong>
            </td>
            <td>{{contract.date}}</td>
            <td class="text-right">
                <strong>Nr. Registro:</strong>
            </td>
            <td>{{contract.registryNumber}}</td>
        </tr>
    </table>

    <h4 class="text-center text-uppercase">
        <strong>Anagrafica Locatore</strong>
    </h4>

    <p class="text-center">{{contract.rentalDescription}}</p>

    <h4 class="text-center text-uppercase">
        <strong>Dati natante locato</strong>
    </h4>

    <table>
        <tr>
            <td class="text-right">
                <strong>Natante:</strong>
            </td>
            <td>{{contract.boat.boatType}}</td>
            <td class="text-right">
                <strong>Matricola:</strong>
            </td>
            <td>{{contract.boat.boatVin}}</td>
        </tr>
        <tr>
            <td class="text-right">
                <strong>Motore:</strong>
            </td>
            <td>{{contract.boat.engine}}</td>
            <td class="text-right">
                <strong>Matricola:</strong>
            </td>
            <td>{{contract.boat.engineVin}}</td>
        </tr>
        <tr>
            <td class="text-right">
                <strong>Targa:</strong>
            </td>
            <td>{{contract.boat.registrationNumber}}</td>
            <td class="text-right">
                <strong>Serbatoio:</strong>
            </td>
            <td>LT. {{contract.boat.tankSize}}</td>
        </tr>
    </table>

    <h4 class="text-center text-uppercase"><strong>Anagrafica Locatario/Conduttore</strong></h4>

    <table>
        <tr>
            <td class="text-right"><strong>Locatario:</strong></td>
            <td colspan="3">{{contract.renterName}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Nato a:</strong></td>
            <td>{{contract.birthPlace}}</td>
            <td class="text-right"><strong>Il:</strong></td>
            <td>{{contract.birthDate}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Citta di residenza:</strong></td>
            <td>{{contract.homeTown}}</td>
            <td class="text-right"><strong>Indirizzo:</strong></td>
            <td>{{contract.homeAddress}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Codice Fiscale:</strong></td>
            <td>{{contract.ssn}}</td>
            <td class="text-right"><strong>Patente nautica:</strong></td>
            <td>{{contract.boatLicense}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Telefono:</strong></td>
            <td>{{contract.phone}}</td>
            <td class="text-right"><strong>Email:</strong></td>
            <td>{{contract.email}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Tipo documento:</strong></td>
            <td>{{contract.idType}}</td>
            <td class="text-right"><strong>Nr. documento:</strong></td>
            <td>{{contract.idNumber}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Rilasciato da:</strong></td>
            <td>{{contract.idIssuer}}</td>
            <td class="text-right"><strong>Data rilascio:</strong></td>
            <td>{{contract.idIssueDate}}</td>
        </tr>
    </table>

    <h4 class="text-center text-uppercase"><strong>Dettagli Locazione</strong></h4>

    <table>
        <tr>
            <td class="text-right"><strong>Data inizio:</strong></td>
            <td>{{contract.startDate}}</td>
            <td class="text-right"><strong>Data fine:</strong></td>
            <td>{{contract.endDate}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Ora inizio:</strong></td>
            <td>{{contract.startTime}}</td>
            <td class="text-right"><strong>Ora fine:</strong></td>
            <td>{{contract.endTime}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Carburante inizio:</strong></td>
            <td>LT. {{contract.startFuel}}</td>
            <td class="text-right"><strong>Carburante fine:</strong></td>
            <td>LT. {{contract.endFuel}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Costo carburante:</strong></td>
            <td>€/LT. {{contract.fuelCost}}</td>
            <td class="text-right"><strong>Totale carburante:</strong></td>
            <td>€ {{contract.totalFuelCost}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Importo locazione:</strong></td>
            <td>€ {{contract.rentPrice}}</td>
            <td class="text-right"><strong>Cauzione:</strong></td>
            <td>€ {{contract.securityDeposit}}</td>
        </tr>
        <tr>
            <td class="text-right"><strong>Importo in acconto:</strong></td>
            <td>€ {{contract.deposit}}</td>
            <td class="text-right"><strong>Importo a saldo:</strong></td>
            <td>€ {{contract.balance}}</td>
        </tr>
    </table>

    <p>
        <strong>{{contract.conditions}}</strong>
    </p>


    <button (click)="back()" class="btn btn-primary">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
        Indietro
    </button>
</div>